
---
This is material I (for any number of reasons) removed from a deck and could come back to at some point 
---


# Lecture 0x01: 
I cut some information about the differnt types of "teams"



---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Definitions (for this class)

:::

<!-- element style="font-size: 24px"-->
- Malware
: Unwanted, malicious software 
[has a bunch of definitions, can get very meta]
- Threat Hunting
: Searching environments to detect and isolate malicious activity.
- Blue Team
Analysis/Detection of new malicious activity, creating detection rules, attribution. 
- Red Team
Attribution re: attacker environments, and/or emulation of real malicious activity.
- There are other team “colors” that we do not cover in this class. 


---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Definitions (for this class)

:::

<!-- element style="font-size: 24px"-->
- Red Team Engagement
: An exercise involving (ideally) an external entity that provides continuous testing and validation of security controls for an organization. 
- While not totally accurate, it can be a useful starting point to think of a red team engagement as an open scope penetration test. 
- I.e., the folks carrying out the exercise will more open rules of engagement. This definition can also get very meta, and is borrowed from military jargon. 
- ROE: What am I, the (fake) attacker, allowed to do during this exercise?

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Definitions (for this class)

:::

<!-- element style="font-size: 24px"-->
- Blue Team
: an internal entity responsible for detecting, and remediating security incidents. 
- These are the folks who work around the clock to catch red teamers in addition to real threats. 

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Definitions

:::

<!-- element style="font-size: 24px"-->
- Malware
: malicious software 
[has a bunch of definitions, can get very meta]
- Threat Hunting
: Searching environments to detect and isolate malicious activity.
- Blue Team
Analysis/Detection of new malicious activity, creating detection rules, attribution. 
- Red Team
Attribution re: attacker environments, and/or emulation of real malicious activity. 


<!-- slide template="[[Split Vertical]]" -->
::: title
 #### 
:::

::: left
<!-- element style="font-size: 24px"-->
- Blue team: how do I make sure this attacker can’t successfully compromise our network?
- Red team: how do I pretend to be this attacker to test under what circumstances we get past the blue team?


:::

::: right
![[0x01_slide_61_image.jpg|300]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Life of a Blue Teamer/ SOC analyst

:::

<!-- element style="font-size: 24px"-->
- Find Indicators of Compromise
- Move from Indicators of Compromise (IOCs) to  -> Tactics, techniques and procedures (TTPs)
- Protecting your Environment from the Tactics / 
Techniques
/ Procedures 
used
- Break Links in the “cyber killchain” 
- Eventually, threats evolve to combat your countermeasures. Go back to step 1 :)

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Threat Analysis Pyramid of Pain
:::

::: left
<!-- element style="font-size: 24px"-->


:::

::: right
![[0x01_slide_63_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Threat Analysis Pyramid of Pain
:::

::: left
<!-- element style="font-size: 24px"-->
- IOCs


:::

::: right
![[0x01_slide_64_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Threat Analysis Pyramid of Pain
:::

::: left
<!-- element style="font-size: 24px"-->
- Getting from IOCs -> TTPs:
- Hash -> Tools
: What malware family 
does
 this hash belong to? How are all these hashes similar? Can I block every instance of the malware? 
- IP/Domain -> Network Artifact
: How does the malware communicate with the C2? Can I look at common patterns in the network traffic and block that behavior?
- IOC -> TTPs: 
Is 
there a pattern in the way this group conducts operations? Do they drop multiple malware families? Do they look for specific data? How do I block this activity?


:::

::: right
![[0x01_slide_65_image.png|300]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Easy…until it isn’t!

:::

<!-- element style="font-size: 24px"-->
- Depending on the actor, the Pyramid of Pain might just be pain. 
- Hashes are easy, 
unless they use polymorphic code
- IPs are easy, 
unless they use thousands of addresses all of which are 
compromised
 infrastructure
. Hint: what happens when someone takes over a Kubernetes cluster or an admin cloud account?
- Domains are easy,
 unless they use a domain generating algorithm (DGA) or quickly change them
- Or…you know what if someone 
compromises
 a bunch of legitimate sites and use them to carry out  cyber operation?


---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Different companies see different IOCs
:::

::: left
<!-- element style="font-size: 24px"-->
- Antivirus companies (Norton, McAfee) see the malware that attackers use.
- Mail providers (Gmail, Yahoo) see the phishing emails.
- Domain registrars (Namecheap / GoDaddy) see Command and Control registration.
- Nobody sees everything. 
Analysis is hard.
- You’re going to have to work as a team.  


:::

::: right
![[0x01_slide_67_image.jpg|300]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Importance of Relationships	

:::

<!-- element style="font-size: 24px"-->
- Go out into the world and make friends. 
- Nobody has the complete picture
- collaborate
, communicate, and deconflict
- How can you check equities if you don’t ever reach out


---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Remark on Infosec Savants
:::

::: left
<!-- element style="font-size: 24px"-->
- There are plenty of brilliant people working in infosec, but by and large there is no such thing as 
someone
 who has all the answers. 
- In fact, someone who claims they do is likely wrong, lying, or trying to sell you something. 
- There is no Infosec Dr. House. It’s probably just someone with a bit too much self confidence, and they probably are not fun to work with. 
- Cybersecurity is a team sport. 


:::

::: right
![[0x01_slide_69_image.png|300]]


:::

---
<!-- slide template="[[Title Slide]]" -->
 ## Reminder!
Different entities also use different jargon!
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Class Progression (blue team side)

:::

<!-- element style="font-size: 24px"-->
- Analysing Malware
  -  (pulling out the IOCs in the malware)
- Example Assignment: Find all C2 domains, interesting files, and implant configuration, and imports!
- Writing up a Technical Report on the Malware
  -  (explaining the IOCs and how the malware works)
- Example Assignment: What is the malware trying to 
accomplish
- Creating Threat Hunting Rules to find more malware
- Example assignment: finding all code associated to APT Chonky bear in a collection of binaries

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Class Progression (blue team side)

:::

<!-- element style="font-size: 24px"-->
- Analysing First stage loaders: 
Analysing Malware
  -  (pulling out the IOCs in the malware)
- Writing up a Technical Report on the Malware
  -  (explaining the IOCs and how the malware works)
- Creating Threat Hunting Rules to find more malware



# 0x03

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Coding conventions for this class

:::

<!-- element style="font-size: 24px"-->
- Windows API functions are prefixed by a double colon
- Type names use Pascal casing (Example PascalCasing)
- Private functions/elements in a class start with an underscore
- Function names are also Pascal casing
- We will use the C++ standard library for common types such as vectors/strings
- Try to keep functions shorter than 20 lines of code but I won’t enforce this. 

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### C++ usage in this class

:::

<!-- element style="font-size: 24px"-->
- This is not a class on C++ or C. You are expected to know the basic of one or both. However, we will make use of the following features of C++ as we develop code 
- Nullptr: Useful for NULL pointer
- auto: Type inference  
- new/delete: memory management 
- Smart pointers: memory management
- Classes
- Scoping
- Templates
- Constructors
- (Pure) Virtual Functions: making our malware modular :)
