    GLOBAL WhateverIWantToCallIt
    EXTERN ExitProcess
    EXTERN GetStdHandle
    EXTERN WriteFile 


    SECTION .text
WhateverIWantToCallIt:
    ; stack
    and rsp, -10h
    sub rsp, 020h

    mov rcx, -0Bh ; -11 is STD_OUTPUT_HANDLE
    call GetStdHandle; stores handle in RAX
    mov rcx, rax ; RCX is first ARG, put the handle in there
    mov rdx, message; put address of message in second argument
    mov r8, msglen 
    xor r9, r9 ; null
    push r9 ; put final argument on stack
    sub rsp, 20h;
    call WriteFile
    add rsp, 28h
    mov rcx, 0
    call ExitProcess
    xor rax, rax
    ret ; same as return 0

    SECTION .data
    message db "hello, world", 10
    msglen equ $-message