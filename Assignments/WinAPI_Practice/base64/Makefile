CC=gcc
CXX=g++
LDFLAGS=-lcrypt32 -static
WARNING_CFLAGS ?= -Wall -Wextra
DEBUG=0
CFLAGS=
# files included in submizzion.zip
SUMBISSION=Makefile main.c debug.h


ifeq ($(DEBUG), 1)
	CFLAGS:= $(CFLAGS) -DDEBUG
endif


ifeq ($(OS),Windows_NT)
	RM=powershell /c rm
else	
	RM=rm
endif

all: 


.PHONY: all clean 

submission.zip:
	zip -r submission.zip  $(SUMBISSION)

clean:
	$(RM)  bin/*.exe 

bin:
	mkdir -p bin 
	
base64.exe: bin
	$(CC)  $(CFLAGS) main.c $(LDFLAGS) $(WARNING_CFLAGS)  -o bin/base64.exe


